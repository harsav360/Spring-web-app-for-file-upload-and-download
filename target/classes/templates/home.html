<!DOCTYPE html>
<html xmlns:th = "https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Home</title>
 
</head>
<body>

	<div class = "container-fluid text-center">
	<div>
		<h1>File Upload and Download</h1>
	</div>
	
	<div class = "text-success">
		<h3>[[${message}]]</h3>
	</div>
	
	<div class = "row border rounded m-4 p-4">
			<th:block th:each = "doc :${listDocs}">
				<div class = "col">
				<div>
					<img th:src = "@{/images/icon.png}" width = "100" />
				</div>
					<div>
						<a th:href = "@{'/download?id=' +${doc.id}}">[[${doc.name}]]</a>
					</div>
					<div>
						([[${#numbers.formatInteger(doc.size,4,'COMMA')}]] bytes)
					</div>
				</div>	
			</th:block>
	
	</div>
	<form th:action = "@{/upload}" method = "post" enctype = "multipart/form-data" style = "max-width: 600px; margin:0 auto">
		<div class = "border rounded m-3">
			<h2> Upload Your Files:</h2>
			<p>
				<input type = "file" name = "document" required />
			</p>
			<p>
				<input type = "submit" value = "Upload" class = "btn btn-primary" />
			</p>
		</div>
	</form>
	</div>
</body>
</html>